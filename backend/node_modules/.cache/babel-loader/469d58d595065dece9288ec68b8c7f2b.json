{"ast":null,"code":"/**\n * тооны өмнө 0 ээр дүүргэж өгөх нь\n * @param {number} num тоо\n * @param {number} spliceNo\n * @returns 0 ээр дүүрсэн тоо\n */\nexport const fullZero = function (num) {\n  let spliceNo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -2;\n  return (\"0\" + num).slice(spliceNo);\n};\n/**\n * timezone ийг string date болгох\n * @param {string | number} timezone    date\n * @param {boolean}         hasHour     цагийг хамтад нь авах эсэх\n * @param {string}          symbol      өдрийн голд байх тэмдэгт\n * @returns бүтэн string date\n */\n\nexport function timeZoneToDateString(timezone) {\n  let hasHour = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  let symbol = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"-\";\n  let hasMs = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  const date = new Date(timezone);\n  /** сар */\n\n  const month = fullZero(date.getMonth() + 1);\n  /** өдөр */\n\n  const day = fullZero(date.getDate());\n  /** жил */\n\n  const year = date.getFullYear();\n  /** цаг */\n\n  const hour = fullZero(date.getHours());\n  /** минут */\n\n  const minute = fullZero(date.getMinutes());\n  /** с */\n\n  const seconds = fullZero(date.getSeconds());\n  /** мс */\n\n  const ms = date.getMilliseconds();\n  const hours = `${hour}:${minute}:${seconds}${hasMs ? `:${ms}` : \"\"}`;\n  const full = `${year}${symbol}${month}${symbol}${day}${hasHour ? \" \" + hours : \"\"}`;\n  return full;\n}\n/** mill second ийг string хугацаа руу хөрвүүлэх */\n\nexport function msToTime(ms) {\n  let time = ms;\n  let text = \"ms\";\n\n  if (ms > 1000) {\n    time = parseFloat(ms) / 1000;\n  }\n\n  if (time > 60) {\n    time = parseFloat(time) / 60;\n    text = \"min\";\n  }\n\n  if (time >= 60) {\n    time = parseFloat(time) / 60;\n    text = \"h\";\n  }\n\n  return `${time}${text}`;\n}\n/** Тухайн тоог string болгох */\n\nexport function numberToString(number) {\n  let dividedNumber = parseFloat(number);\n  let string = \"\";\n\n  if (1e6 > dividedNumber >= 1e3) {\n    dividedNumber = dividedNumber / 1e3;\n    string = \"K\";\n  } else if (1e9 > dividedNumber >= 1e6) {\n    dividedNumber = dividedNumber / 1e6;\n    string = \"M\";\n  } else if (dividedNumber >= 1e9) {\n    dividedNumber = dividedNumber / 1e9;\n    string = \"B\";\n  }\n\n  return `${dividedNumber}${string}`;\n}\n/** Өнөөдрөөс тухайн өдрийг хасах */\n\nexport function minusDate(start) {\n  let end = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Date.now();\n  const parsedStart = Date.parse(start);\n  const zuruuMs = end - parsedStart;\n  let time = null;\n  let string = '';\n\n  if (zuruuMs >= 1000) {\n    time = Math.floor(parseFloat(zuruuMs) / 1000);\n    string = \"seconds ago\";\n  }\n\n  if (time >= 60) {\n    time = Math.floor(parseFloat(time) / 60);\n    string = \"minutes ago\";\n  }\n\n  if (time >= 60) {\n    time = Math.floor(parseFloat(time) / 60);\n    string = \"hours ago\";\n  }\n\n  if (time >= 24) {\n    time = Math.floor(parseFloat(time) / 24);\n    string = \"days ago\";\n  }\n\n  if (time >= 30) {\n    time = Math.floor(parseFloat(time) / 24);\n    string = \"months ago\";\n  }\n\n  return `${time} ${string}`;\n}\nexport function getImageFormUrl(url, callback) {\n  var img = new Image();\n  img.setAttribute('crossOrigin', 'anonymous');\n\n  img.onload = function (a) {\n    var canvas = document.createElement(\"canvas\");\n    canvas.width = this.width;\n    canvas.height = this.height;\n    var ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(this, 0, 0);\n    var dataURI = canvas.toDataURL(\"image/jpg\"); // convert base64/URLEncoded data component to raw binary data held in a string\n\n    var byteString;\n    if (dataURI.split(',')[0].indexOf('base64') >= 0) byteString = atob(dataURI.split(',')[1]);else byteString = unescape(dataURI.split(',')[1]); // separate out the mime component\n\n    var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]; // write the bytes of the string to a typed array\n\n    var ia = new Uint8Array(byteString.length);\n\n    for (var i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i);\n    }\n\n    return callback(new FileList(new File([ia], {\n      type: mimeString\n    })));\n  };\n\n  img.src = url;\n}","map":{"version":3,"sources":["/Users/maidar/Desktop/projects-d/gasp/src/utils/index.js"],"names":["fullZero","num","spliceNo","slice","timeZoneToDateString","timezone","hasHour","symbol","hasMs","date","Date","month","getMonth","day","getDate","year","getFullYear","hour","getHours","minute","getMinutes","seconds","getSeconds","ms","getMilliseconds","hours","full","msToTime","time","text","parseFloat","numberToString","number","dividedNumber","string","minusDate","start","end","now","parsedStart","parse","zuruuMs","Math","floor","getImageFormUrl","url","callback","img","Image","setAttribute","onload","a","canvas","document","createElement","width","height","ctx","getContext","drawImage","dataURI","toDataURL","byteString","split","indexOf","atob","unescape","mimeString","ia","Uint8Array","length","i","charCodeAt","FileList","File","type","src"],"mappings":"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","sourcesContent":["/**\n * тооны өмнө 0 ээр дүүргэж өгөх нь\n * @param {number} num тоо\n * @param {number} spliceNo\n * @returns 0 ээр дүүрсэн тоо\n */\nexport const fullZero = (num, spliceNo=-2) => (\"0\" + num).slice(spliceNo)\n\n/**\n * timezone ийг string date болгох\n * @param {string | number} timezone    date\n * @param {boolean}         hasHour     цагийг хамтад нь авах эсэх\n * @param {string}          symbol      өдрийн голд байх тэмдэгт\n * @returns бүтэн string date\n */\nexport function timeZoneToDateString(timezone, hasHour=true, symbol=\"-\", hasMs=false)\n{\n    const date = new Date(timezone)\n\n    /** сар */\n    const month = fullZero(date.getMonth() + 1)\n    /** өдөр */\n    const day = fullZero(date.getDate())\n    /** жил */\n    const year = date.getFullYear()\n\n    /** цаг */\n    const hour = fullZero(date.getHours())\n    /** минут */\n    const minute = fullZero(date.getMinutes())\n    /** с */\n    const seconds = fullZero(date.getSeconds())\n    /** мс */\n    const ms = date.getMilliseconds()\n\n    const hours = `${hour}:${minute}:${seconds}${hasMs ? `:${ms}` : \"\"}`\n\n    const full = `${year}${symbol}${month}${symbol}${day}${hasHour ? \" \" + hours : \"\"}`\n\n    return full\n}\n\n/** mill second ийг string хугацаа руу хөрвүүлэх */\nexport function msToTime(ms)\n{\n\n    let time = ms\n    let text = \"ms\"\n\n    if (ms > 1000)\n    {\n        time = parseFloat(ms) / 1000\n    }\n    if (time > 60)\n    {\n        time = parseFloat(time) / 60\n        text = \"min\"\n    }\n    if (time >= 60)\n    {\n        time = parseFloat(time) / 60\n        text = \"h\"\n    }\n\n    return `${time}${text}`\n\n}\n\n/** Тухайн тоог string болгох */\nexport function numberToString(number)\n{\n    let dividedNumber = parseFloat(number)\n    let string = \"\"\n\n    if (1e6 > dividedNumber >= 1e3)\n    {\n        dividedNumber = dividedNumber / 1e3\n        string = \"K\"\n    }\n    else if (1e9 > dividedNumber >= 1e6)\n    {\n        dividedNumber = dividedNumber / 1e6\n        string = \"M\"\n    }\n    else if (dividedNumber >= 1e9) {\n        dividedNumber = dividedNumber / 1e9\n        string = \"B\"\n    }\n\n    return `${dividedNumber}${string}`\n}\n\n/** Өнөөдрөөс тухайн өдрийг хасах */\nexport function minusDate(start, end=Date.now())\n{\n    const parsedStart = Date.parse(start)\n    const zuruuMs = end - parsedStart\n    let time = null\n    let string = ''\n    if (zuruuMs >= 1000)\n    {\n        time = Math.floor(parseFloat(zuruuMs) / 1000)\n        string = \"seconds ago\"\n    }\n    if (time >= 60)\n    {\n        time =  Math.floor(parseFloat(time) / 60)\n        string = \"minutes ago\"\n    }\n    if (time >= 60)\n    {\n        time =  Math.floor(parseFloat(time) / 60)\n        string = \"hours ago\"\n    }\n    if (time >= 24)\n    {\n        time =  Math.floor(parseFloat(time) / 24)\n        string = \"days ago\"\n    }\n    if (time >= 30)\n    {\n        time =  Math.floor(parseFloat(time) / 24)\n        string = \"months ago\"\n    }\n\n    return `${time} ${string}`\n\n}\n\nexport function getImageFormUrl(url, callback) {\n    var img = new Image();\n    img.setAttribute('crossOrigin', 'anonymous');\n    img.onload = function (a) {\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = this.width;\n        canvas.height = this.height;\n        var ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(this, 0, 0);\n\n        var dataURI = canvas.toDataURL(\"image/jpg\");\n        // convert base64/URLEncoded data component to raw binary data held in a string\n        var byteString;\n        if (dataURI.split(',')[0].indexOf('base64') >= 0)\n            byteString = atob(dataURI.split(',')[1]);\n        else\n            byteString = unescape(dataURI.split(',')[1]);\n        // separate out the mime component\n        var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n        // write the bytes of the string to a typed array\n        var ia = new Uint8Array(byteString.length);\n        for (var i = 0; i < byteString.length; i++) {\n            ia[i] = byteString.charCodeAt(i);\n        }\n        return callback(new FileList(new File([ia], { type: mimeString })));\n    }\n    img.src = url;\n  }\n"]},"metadata":{},"sourceType":"module"}