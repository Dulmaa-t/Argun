{"ast":null,"code":"import _defineProperty from\"/Users/maidar/Desktop/projects-d/gasp/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/maidar/Desktop/projects-d/gasp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/maidar/Desktop/projects-d/gasp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/maidar/Desktop/projects-d/gasp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/maidar/Desktop/projects-d/gasp/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useParams,useNavigate}from'react-router-dom';import{toast}from'react-toastify';import axios from'utils/axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ResetPass(){var _useState=useState({\"password\":\"\",\"password2\":\"\"}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useParams=useParams(),token=_useParams.token;var navigate=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _yield$axios$put,success,error,info;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return axios.put(\"/api/sign/confirmpassword/?token=\".concat(token),data);case 3:_yield$axios$put=_context.sent;success=_yield$axios$put.success;error=_yield$axios$put.error;info=_yield$axios$put.info;if(success){toast.success(info);navigate(\"/admin/\");}else{toast.error(error);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event,key){var value=event.target.value;setData(_objectSpread(_objectSpread({},data),{},_defineProperty({},key,value)));};return/*#__PURE__*/_jsxs(\"section\",{className:\"loginForm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"box\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container resetpassword\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041D\\u0443\\u0443\\u0446 \\u04AF\\u0433 \\u0441\\u044D\\u0440\\u0433\\u044D\\u044D\\u0445\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputBx password\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"password-input\",type:\"text\",name:\"password\",required:\"required\",onChange:function onChange(e){return handleChange(e,'password');}}),/*#__PURE__*/_jsx(\"span\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-key\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputBx password\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"password-input\",type:\"text\",name:\"password\",required:\"required\",onChange:function onChange(e){return handleChange(e,'password2');}}),/*#__PURE__*/_jsx(\"span\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-key\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"inputBx\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Reset\"})})]})]})})]});}","map":{"version":3,"sources":["/Users/maidar/Desktop/projects-d/gasp/src/pages/LoginForm/confirmPass.jsx"],"names":["React","useState","useParams","useNavigate","toast","axios","ResetPass","data","setData","token","navigate","handleSubmit","e","preventDefault","put","success","error","info","handleChange","event","key","value","target"],"mappings":"2mBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,kBAAvC,CACA,OAASC,KAAT,KAAsB,gBAAtB,CAEA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,C,wFAEA,cAAe,SAASC,CAAAA,SAAT,EAAqB,CAEhC,cAA0BL,QAAQ,CAC9B,CACI,WAAY,EADhB,CAEI,YAAa,EAFjB,CAD8B,CAAlC,wCAAQM,IAAR,eAAcC,OAAd,eAMA,eAAkBN,SAAS,EAA3B,CAAQO,KAAR,YAAQA,KAAR,CACA,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAEA,GAAMQ,CAAAA,YAAY,0FAAG,iBAAOC,CAAP,0JAEjBA,CAAC,CAACC,cAAF,GAFiB,sBAGsBR,CAAAA,KAAK,CAACS,GAAN,4CAA8CL,KAA9C,EAAuDF,IAAvD,CAHtB,uCAGTQ,OAHS,kBAGTA,OAHS,CAGAC,KAHA,kBAGAA,KAHA,CAGOC,IAHP,kBAGOA,IAHP,CAIjB,GAAIF,OAAJ,CACA,CACIX,KAAK,CAACW,OAAN,CAAcE,IAAd,EACAP,QAAQ,CAAC,SAAD,CAAR,CACH,CAJD,IAKK,CACDN,KAAK,CAACY,KAAN,CAAYA,KAAZ,EACH,CAXgB,sDAAH,kBAAZL,CAAAA,YAAY,4CAAlB,CAcA,GAAMO,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAQC,GAAR,CACrB,CACI,GAAMC,CAAAA,KAAK,CAAGF,KAAK,CAACG,MAAN,CAAaD,KAA3B,CACAb,OAAO,gCAAMD,IAAN,wBAAaa,GAAb,CAAmBC,KAAnB,GAAP,CACH,CAJD,CAMA,mBACI,iBAAS,SAAS,CAAC,WAAnB,wBACI,YAAK,SAAS,CAAC,KAAf,EADJ,cAEI,YAAK,SAAS,CAAC,yBAAf,uBACI,aAAK,SAAS,CAAC,MAAf,wBACI,wGADJ,cAEI,cAAM,QAAQ,CAAEV,YAAhB,wBACI,aAAK,SAAS,CAAC,kBAAf,wBACI,cAAO,EAAE,CAAC,gBAAV,CAA2B,IAAI,CAAE,MAAjC,CAAyC,IAAI,CAAC,UAA9C,CAAyD,QAAQ,CAAC,UAAlE,CAA6E,QAAQ,CAAE,kBAACC,CAAD,QAAOM,CAAAA,YAAY,CAACN,CAAD,CAAI,UAAJ,CAAnB,EAAvF,EADJ,cAEI,kCAFJ,cAGI,UAAG,SAAS,CAAC,YAAb,EAHJ,GADJ,cAMI,aAAK,SAAS,CAAC,kBAAf,wBACI,cAAO,EAAE,CAAC,gBAAV,CAA2B,IAAI,CAAE,MAAjC,CAAyC,IAAI,CAAC,UAA9C,CAAyD,QAAQ,CAAC,UAAlE,CAA6E,QAAQ,CAAE,kBAACA,CAAD,QAAOM,CAAAA,YAAY,CAACN,CAAD,CAAI,WAAJ,CAAnB,EAAvF,EADJ,cAEI,kCAFJ,cAGI,UAAG,SAAS,CAAC,YAAb,EAHJ,GANJ,cAWI,YAAK,SAAS,CAAC,SAAf,uBACI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,OAA3B,EADJ,EAXJ,GAFJ,GADJ,EAFJ,GADJ,CAyBH","sourcesContent":["import React, { useState } from 'react'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport { toast } from 'react-toastify'\n\nimport axios from 'utils/axios'\n\nexport default function ResetPass() {\n\n    const [ data, setData ] = useState(\n        {\n            \"password\": \"\",\n            \"password2\": \"\"\n        }\n    )\n    const { token } = useParams()\n    const navigate = useNavigate()\n\n    const handleSubmit = async (e) =>\n    {\n        e.preventDefault()\n        const { success, error, info } = await axios.put(`/api/sign/confirmpassword/?token=${token}`, data)\n        if (success)\n        {\n            toast.success(info)\n            navigate(\"/admin/\")\n        }\n        else {\n            toast.error(error)\n        }\n    }\n\n    const handleChange = (event, key) =>\n    {\n        const value = event.target.value\n        setData({ ...data, [key]: value })\n    }\n\n    return (\n        <section className='loginForm'>\n            <div className=\"box\"></div>\n            <div className=\"container resetpassword\">\n                <div className=\"form\">\n                    <h2>Нууц үг сэргээх</h2>\n                    <form onSubmit={handleSubmit}>\n                        <div className=\"inputBx password\">\n                            <input id=\"password-input\" type={\"text\"} name=\"password\" required=\"required\" onChange={(e) => handleChange(e, 'password')}/>\n                            <span>Password</span>\n                            <i className=\"fas fa-key\"></i>\n                        </div>\n                        <div className=\"inputBx password\">\n                            <input id=\"password-input\" type={\"text\"} name=\"password\" required=\"required\" onChange={(e) => handleChange(e, 'password2')}/>\n                            <span>Password</span>\n                            <i className=\"fas fa-key\"></i>\n                        </div>\n                        <div className=\"inputBx\">\n                            <input type=\"submit\" value=\"Reset\" />\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </section>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}