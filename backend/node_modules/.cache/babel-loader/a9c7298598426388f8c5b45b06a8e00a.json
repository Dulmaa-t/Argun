{"ast":null,"code":"var _jsxFileName = \"/Users/maidar/Desktop/projects-d/gasp/src/pages/Video/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport Footer from '../Home/Footer';\nimport HeaderMenu from '../../components/special/HeaderMenu';\nimport Card from '../../components/main/video';\nimport MoreBtn from '../../components/special/MoreBtn';\nimport axios from 'utils/axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CVideo() {\n  _s();\n\n  /** video ийн мэдээллийг хадгалах state */\n  const [videos, setVideos] = useState([]);\n  const location = useLocation();\n  /** podcast ийн мэдээллийг back аас дуудах нь */\n\n  const getData = async () => {\n    /** url ээс дарагдсан category байгаа эсэхийг анх орохдоо шалгах нь */\n    const paramCatName = new URLSearchParams(location.search).get(\"category\");\n    await axios.get(`/api/video/${paramCatName ? `?category=${paramCatName}` : \"\"}`).then(_ref => {\n      let {\n        success,\n        data,\n        error\n      } = _ref;\n\n      if (success) {\n        setVideos(data);\n      }\n    }).catch(err => {});\n  };\n\n  useEffect(() => {\n    //  video ийн мэдээллийг back аас дуудах нь\n    getData();\n  }, []);\n  /** Ямар category дарагдсан түүнийг авах функц */\n\n  const handleCategory = async catName => {\n    const {\n      success,\n      data,\n      error\n    } = await axios.get(`/api/video/?category=${catName}`);\n\n    if (success) {\n      setVideos(data);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(HeaderMenu, {\n      handleCategory: handleCategory\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-menu\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row nowrap\",\n          children: [videos.map((element, index) => {\n            return /*#__PURE__*/_jsxDEV(Card, {\n              image: element.image,\n              title: element.title,\n              text: element.text,\n              url: element.url,\n              createdAt: element.createdAt\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 21\n            }, this);\n          }), // хэрэв video байхгүй бол\n          videos.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\"\n            },\n            children: \"\\u0425\\u043E\\u043E\\u0441\\u043E\\u043D \\u0431\\u0430\\u0439\\u043D\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MoreBtn, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CVideo, \"9m8jvWAeeGRI4Z5gSYOS7q3LGdk=\", false, function () {\n  return [useLocation];\n});\n\n_c = CVideo;\n\nvar _c;\n\n$RefreshReg$(_c, \"CVideo\");","map":{"version":3,"sources":["/Users/maidar/Desktop/projects-d/gasp/src/pages/Video/index.jsx"],"names":["React","useState","useEffect","useLocation","Footer","HeaderMenu","Card","MoreBtn","axios","CVideo","videos","setVideos","location","getData","paramCatName","URLSearchParams","search","get","then","success","data","error","catch","err","handleCategory","catName","map","element","index","image","title","text","url","createdAt","length","display","justifyContent"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,UAAP,MAAuB,qCAAvB;AACA,OAAOC,IAAP,MAAiB,6BAAjB;AAEA,OAAOC,OAAP,MAAoB,kCAApB;AAEA,OAAOC,KAAP,MAAkB,aAAlB;;AAEA,eAAe,SAASC,MAAT,GACf;AAAA;;AAEE;AACA,QAAM,CAAEC,MAAF,EAAUC,SAAV,IAAwBV,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAMW,QAAQ,GAAGT,WAAW,EAA5B;AAEA;;AACA,QAAMU,OAAO,GAAG,YAChB;AACE;AACA,UAAMC,YAAY,GAAG,IAAIC,eAAJ,CAAoBH,QAAQ,CAACI,MAA7B,EAAqCC,GAArC,CAAyC,UAAzC,CAArB;AACA,UAAMT,KAAK,CAACS,GAAN,CAAW,cAAaH,YAAY,GAAI,aAAYA,YAAa,EAA7B,GAAiC,EAAG,EAAxE,EACHI,IADG,CACE,QACJ;AAAA,UADK;AAAEC,QAAAA,OAAF;AAAWC,QAAAA,IAAX;AAAiBC,QAAAA;AAAjB,OACL;;AACE,UAAIF,OAAJ,EACA;AACER,QAAAA,SAAS,CAACS,IAAD,CAAT;AACD;AACF,KAPC,EASHE,KATG,CASGC,GAAG,IACR,CAEC,CAZC,CAAN;AAcD,GAlBD;;AAoBArB,EAAAA,SAAS,CACP,MACA;AACE;AACAW,IAAAA,OAAO;AACR,GALM,EAMP,EANO,CAAT;AASA;;AACA,QAAMW,cAAc,GAAG,MAAOC,OAAP,IACvB;AACE,UAAM;AAAEN,MAAAA,OAAF;AAAWC,MAAAA,IAAX;AAAiBC,MAAAA;AAAjB,QAA2B,MAAMb,KAAK,CAACS,GAAN,CAAW,wBAAuBQ,OAAQ,EAA1C,CAAvC;;AACA,QAAIN,OAAJ,EACA;AACER,MAAAA,SAAS,CAACS,IAAD,CAAT;AACD;AACF,GAPD;;AASA,sBACE;AAAA,4BACE,QAAC,UAAD;AAAY,MAAA,cAAc,EAAEI;AAA5B;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,qBAEId,MAAM,CAACgB,GAAP,CACE,CAACC,OAAD,EAAUC,KAAV,KAAoB;AAClB,gCACE,QAAC,IAAD;AAEE,cAAA,KAAK,EAAED,OAAO,CAACE,KAFjB;AAGE,cAAA,KAAK,EAAEF,OAAO,CAACG,KAHjB;AAIE,cAAA,IAAI,EAAEH,OAAO,CAACI,IAJhB;AAKE,cAAA,GAAG,EAAEJ,OAAO,CAACK,GALf;AAME,cAAA,SAAS,EAAEL,OAAO,CAACM;AANrB,eACOL,KADP;AAAA;AAAA;AAAA;AAAA,oBADF;AAUD,WAZH,CAFJ,EAkBI;AACAlB,UAAAA,MAAM,CAACwB,MAAP,KAAkB,CAAlB,gBAEE;AAAK,YAAA,KAAK,EAAE;AAAEC,cAAAA,OAAO,EAAE,MAAX;AAAmBC,cAAAA,cAAc,EAAE;AAAnC,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,GAIE,IAvBN;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAFF,eAgCE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YAhCF,eAiCE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YAjCF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAqCD;;GApFuB3B,M;UAKLN,W;;;KALKM,M","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useLocation } from 'react-router-dom'\n\nimport Footer from '../Home/Footer'\nimport HeaderMenu from '../../components/special/HeaderMenu'\nimport Card from '../../components/main/video'\n\nimport MoreBtn from '../../components/special/MoreBtn'\n\nimport axios from 'utils/axios'\n\nexport default function CVideo()\n{\n\n  /** video ийн мэдээллийг хадгалах state */\n  const [ videos, setVideos ] = useState([])\n  const location = useLocation()\n\n  /** podcast ийн мэдээллийг back аас дуудах нь */\n  const getData = async () =>\n  {\n    /** url ээс дарагдсан category байгаа эсэхийг анх орохдоо шалгах нь */\n    const paramCatName = new URLSearchParams(location.search).get(\"category\")\n    await axios.get(`/api/video/${paramCatName ? `?category=${paramCatName}` : \"\"}`)\n      .then(({ success, data, error }) =>\n        {\n          if (success)\n          {\n            setVideos(data)\n          }\n        }\n      )\n      .catch(err =>\n        {\n\n        }\n      )\n  }\n\n  useEffect(\n    () =>\n    {\n      //  video ийн мэдээллийг back аас дуудах нь\n      getData()\n    },\n    []\n  )\n\n  /** Ямар category дарагдсан түүнийг авах функц */\n  const handleCategory = async (catName) =>\n  {\n    const { success, data, error } = await axios.get(`/api/video/?category=${catName}`)\n    if (success)\n    {\n      setVideos(data)\n    }\n  }\n\n  return (\n    <div>\n      <HeaderMenu handleCategory={handleCategory} />\n      <div className=\"video-menu\">\n        <div className=\"container\">\n          <div className=\"row nowrap\">\n            {\n              videos.map(\n                (element, index) => {\n                  return (\n                    <Card\n                      key={index}\n                      image={element.image}\n                      title={element.title}\n                      text={element.text}\n                      url={element.url}\n                      createdAt={element.createdAt}\n                    />\n                  )\n                }\n              )\n            }\n            {\n              // хэрэв video байхгүй бол\n              videos.length === 0\n              ?\n                <div style={{ display: \"flex\", justifyContent: \"center\" }}>Хоосон байна</div>\n              :\n                null\n            }\n          </div>\n        </div>\n      </div>\n      <MoreBtn />\n      <Footer />\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}