{"ast":null,"code":"import _asyncToGenerator from\"/Users/maidar/Desktop/projects-d/gasp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/maidar/Desktop/projects-d/gasp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/maidar/Desktop/projects-d/gasp/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import axios from'utils/axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function News(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),lastNews=_useState2[0],setNews=_useState2[1];var getLastNews=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get$catc,success,data,error;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/news/home/\").catch(function(err){return err;});case 2:_yield$axios$get$catc=_context.sent;success=_yield$axios$get$catc.success;data=_yield$axios$get$catc.data;error=_yield$axios$get$catc.error;if(success){setNews(data);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function getLastNews(){return _ref.apply(this,arguments);};}();useEffect(function(){getLastNews();},[]);return/*#__PURE__*/_jsx(\"section\",{className:\"m-top-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"c-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"c-row flexWrap\",children:lastNews.map(function(news,idx){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-01 height-fix\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"card-img-top\",src:process.env.REACT_APP_SERVER_URL+news.image,alt:\"Card image cap\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-img-overlay\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",children:/*#__PURE__*/_jsx(Link,{to:\"/news/\".concat(news._id,\"/\"),children:news.title})}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:news.text}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(Link,{to:\"/news/\".concat(news._id,\"/\")}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-heart-o\"})]})]})]})},idx);})})})});}","map":{"version":3,"sources":["/Users/maidar/Desktop/projects-d/gasp/src/pages/Home/Body/News.jsx"],"names":["React","useEffect","useState","Link","axios","News","lastNews","setNews","getLastNews","get","catch","err","success","data","error","map","news","idx","process","env","REACT_APP_SERVER_URL","image","_id","title","text"],"mappings":"oXAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,C,wFAEA,cAAe,SAASC,CAAAA,IAAT,EAAgB,CAE3B,cAA8BH,QAAQ,CAAC,EAAD,CAAtC,wCAAQI,QAAR,eAAkBC,OAAlB,eAEA,GAAMC,CAAAA,WAAW,0FAAG,sMAEuBJ,CAAAA,KAAK,CAACK,GAAN,CAAU,iBAAV,EAA6BC,KAA7B,CAAmC,SAAAC,GAAG,QAAIA,CAAAA,GAAJ,EAAtC,CAFvB,4CAERC,OAFQ,uBAERA,OAFQ,CAECC,IAFD,uBAECA,IAFD,CAEOC,KAFP,uBAEOA,KAFP,CAGhB,GAAIF,OAAJ,CACA,CACIL,OAAO,CAACM,IAAD,CAAP,CACH,CANe,sDAAH,kBAAXL,CAAAA,WAAW,0CAAjB,CASAP,SAAS,CACL,UACA,CACIO,WAAW,GACd,CAJI,CAKL,EALK,CAAT,CAQA,mBACI,gBAAS,SAAS,CAAC,eAAnB,uBACI,YAAK,SAAS,CAAC,aAAf,uBACI,YAAK,SAAS,CAAC,gBAAf,UAEQF,QAAQ,CAACS,GAAT,CAAa,SAACC,IAAD,CAAOC,GAAP,CACb,CACI,mBACI,YAAK,SAAS,WAAd,uBACI,aAAK,SAAS,CAAC,yBAAf,wBACI,YAAK,SAAS,CAAC,cAAf,CAA8B,GAAG,CAAEC,OAAO,CAACC,GAAR,CAAYC,oBAAZ,CAAmCJ,IAAI,CAACK,KAA3E,CAAkF,GAAG,CAAC,gBAAtF,EADJ,cAEI,aAAK,SAAS,CAAC,kBAAf,wBACI,WAAI,SAAS,CAAC,YAAd,uBAA2B,KAAC,IAAD,EAAM,EAAE,iBAAWL,IAAI,CAACM,GAAhB,KAAR,UAAiCN,IAAI,CAACO,KAAtC,EAA3B,EADJ,cAEI,UAAG,SAAS,CAAC,WAAb,UAA0BP,IAAI,CAACQ,IAA/B,EAFJ,cAGI,WAAG,SAAS,CAAC,WAAb,wBAAyB,KAAC,IAAD,EAAM,EAAE,iBAAWR,IAAI,CAACM,GAAhB,KAAR,EAAzB,cAAgE,UAAG,SAAS,CAAC,eAAb,EAAhE,GAHJ,GAFJ,GADJ,EAAiCL,GAAjC,CADJ,CAYH,CAdD,CAFR,EADJ,EADJ,EADJ,CAyBH","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport axios from 'utils/axios'\n\nexport default function News() {\n\n    const [ lastNews, setNews ] = useState([])\n\n    const getLastNews = async () =>\n    {\n        const { success, data, error } = await axios.get(\"/api/news/home/\").catch(err => err)\n        if (success)\n        {\n            setNews(data)\n        }\n    }\n\n    useEffect(\n        () =>\n        {\n            getLastNews()\n        },\n        []\n    )\n\n    return (\n        <section className='m-top-content'>\n            <div className=\"c-container\">\n                <div className=\"c-row flexWrap\">\n                    {\n                        lastNews.map((news, idx) =>\n                        {\n                            return (\n                                <div className={`col-md-4`} key={idx}>\n                                    <div className=\"card card-01 height-fix\">\n                                        <img className=\"card-img-top\" src={process.env.REACT_APP_SERVER_URL + news.image} alt=\"Card image cap\" />\n                                        <div className=\"card-img-overlay\">\n                                            <h4 className=\"card-title\"><Link to={`/news/${news._id}/`}>{news.title}</Link></h4>\n                                            <p className=\"card-text\">{news.text}</p>\n                                            <p className=\"card-text\"><Link to={`/news/${news._id}/`}></Link><i className=\"fa fa-heart-o\"></i></p>\n                                        </div>\n                                    </div>\n                                </div>\n                            )\n                        })\n                    }\n                </div>\n            </div>\n        </section>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}