{"ast":null,"code":"import _asyncToGenerator from\"/Users/maidar/Desktop/projects-d/gasp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/maidar/Desktop/projects-d/gasp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/maidar/Desktop/projects-d/gasp/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import{toast}from'react-toastify';import Header from'components/special/Header';import Footer from\"pages/Home/Footer\";import axios from'utils/axios';import{useConfig}from'context/configContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function NewsAbout(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),about=_useState2[0],setAbout=_useState2[1];var _useParams=useParams(),newsId=_useParams.newsId;var _useConfig=useConfig(),configs=_useConfig.configs;/** мэдээний дэлгэрэнгүй авах */var getNewsAbout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get$catc,success,data,error,element;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/news/\".concat(newsId,\"/\")).catch(function(err){return err;});case 2:_yield$axios$get$catc=_context.sent;success=_yield$axios$get$catc.success;data=_yield$axios$get$catc.data;error=_yield$axios$get$catc.error;if(success){setAbout(data);/** мэдээний html ийг div дээр харуулах */element=document.getElementById(\"main-news\");element.innerHTML=data.news;}else{toast({data:\"Ийм мэдээ байхгүй эсвэл алдаа гарсан байна\",type:\"danger\"});}case 7:case\"end\":return _context.stop();}}},_callee);}));return function getNewsAbout(){return _ref.apply(this,arguments);};}();/** анх ороод мэдээний мэдээлэл авах */useEffect(function(){getNewsAbout();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsx(\"img\",{className:\"header-img\",src:process.env.REACT_APP_SERVER_URL+configs.SITE_MENU_IMAGE,alt:\"Card image cap\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"c-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:about.title}),/*#__PURE__*/_jsx(\"div\",{id:\"main-news\"})]}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"sources":["/Users/maidar/Desktop/projects-d/gasp/src/pages/News/NewsAbout/index.jsx"],"names":["React","useEffect","useState","useParams","toast","Header","Footer","axios","useConfig","NewsAbout","about","setAbout","newsId","configs","getNewsAbout","get","catch","err","success","data","error","element","document","getElementById","innerHTML","news","type","process","env","REACT_APP_SERVER_URL","SITE_MENU_IMAGE","title"],"mappings":"oXAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,KAAT,KAAsB,gBAAtB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,2BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CAEA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CACA,OAASC,SAAT,KAA0B,uBAA1B,C,6IAEA,cAAe,SAASC,CAAAA,SAAT,EAAqB,CAElC,cAA4BP,QAAQ,CAAC,EAAD,CAApC,wCAAQQ,KAAR,eAAeC,QAAf,eACA,eAAmBR,SAAS,EAA5B,CAAQS,MAAR,YAAQA,MAAR,CACA,eAAoBJ,SAAS,EAA7B,CAAQK,OAAR,YAAQA,OAAR,CAEA,gCACA,GAAMC,CAAAA,YAAY,0FAAG,8MAEoBP,CAAAA,KAAK,CAACQ,GAAN,qBAAuBH,MAAvB,OAAkCI,KAAlC,CAAwC,SAAAC,GAAG,QAAIA,CAAAA,GAAJ,EAA3C,CAFpB,4CAEXC,OAFW,uBAEXA,OAFW,CAEFC,IAFE,uBAEFA,IAFE,CAEIC,KAFJ,uBAEIA,KAFJ,CAGnB,GAAIF,OAAJ,CACA,CACEP,QAAQ,CAACQ,IAAD,CAAR,CACA,0CACME,OAHR,CAGkBC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAHlB,CAIEF,OAAO,CAACG,SAAR,CAAoBL,IAAI,CAACM,IAAzB,CACD,CAND,IAOK,CACHrB,KAAK,CACH,CACEe,IAAI,CAAE,4CADR,CAEEO,IAAI,CAAE,QAFR,CADG,CAAL,CAMD,CAjBkB,sDAAH,kBAAZZ,CAAAA,YAAY,0CAAlB,CAoBA,uCACAb,SAAS,CAAC,UAAM,CACda,YAAY,GACb,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,wCACE,KAAC,MAAD,IADF,cAEE,YAAK,SAAS,CAAC,QAAf,uBACE,YAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,CAAEa,OAAO,CAACC,GAAR,CAAYC,oBAAZ,CAAmChB,OAAO,CAACiB,eAA5E,CAA6F,GAAG,CAAC,gBAAjG,EADF,EAFF,cAKE,aAAK,SAAS,CAAC,aAAf,wBACE,WAAI,SAAS,CAAC,aAAd,UACGpB,KAAK,CAACqB,KADT,EADF,cAIE,YAAK,EAAE,CAAC,WAAR,EAJF,GALF,cAYE,KAAC,MAAD,IAZF,GADF,CAgBD","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { toast } from 'react-toastify'\n\nimport Header from 'components/special/Header'\nimport Footer from \"pages/Home/Footer\"\n\nimport axios from 'utils/axios'\nimport { useConfig } from 'context/configContext'\n\nexport default function NewsAbout() {\n\n  const [ about, setAbout ] = useState({})\n  const { newsId } = useParams()\n  const { configs } = useConfig()\n\n  /** мэдээний дэлгэрэнгүй авах */\n  const getNewsAbout = async () =>\n  {\n    const { success, data, error } = await axios.get(`/api/news/${newsId}/`).catch(err => err)\n    if (success)\n    {\n      setAbout(data)\n      /** мэдээний html ийг div дээр харуулах */\n      const element = document.getElementById(\"main-news\")\n      element.innerHTML = data.news\n    }\n    else {\n      toast(\n        {\n          data: \"Ийм мэдээ байхгүй эсвэл алдаа гарсан байна\",\n          type: \"danger\"\n        }\n      )\n    }\n  }\n\n  /** анх ороод мэдээний мэдээлэл авах */\n  useEffect(() => {\n    getNewsAbout()\n  }, [])\n\n  return (\n    <>\n      <Header />\n      <div className='header'>\n        <img className=\"header-img\" src={process.env.REACT_APP_SERVER_URL + configs.SITE_MENU_IMAGE} alt=\"Card image cap\"></img>\n      </div>\n      <div className='c-container'>\n        <h1 className='text-center'>\n          {about.title}\n        </h1>\n        <div id='main-news'>\n        </div>\n      </div>\n      <Footer />\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}