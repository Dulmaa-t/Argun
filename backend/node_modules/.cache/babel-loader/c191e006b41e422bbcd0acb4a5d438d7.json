{"ast":null,"code":"var _jsxFileName = \"/Users/maidar/Desktop/projects-d/gasp/src/components/special/SubMenu.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, createSearchParams, useLocation } from 'react-router-dom';\nimport Button from '../main/Button';\nimport axios from 'utils/axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SubMenu(_ref) {\n  _s();\n\n  let {\n    handleCategory\n  } = _ref;\n\n  /** back аас category ийн жагсаалтыг авч харуулах нв */\n  const [categories, setCategories] = useState([]);\n  const [catName, setCatName] = useState(\"\");\n  /** хуудас үсрэхэд хэрэг болно */\n\n  const navigate = useNavigate();\n  const location = useLocation();\n  /** url солигдох бүрт ямар category байгаа эсэхийг шалгах */\n\n  useEffect(() => {\n    const paramCatName = new URLSearchParams(location.search).get(\"category\");\n    setCatName(paramCatName);\n  }, [location]);\n  /** cate ийн мэдээллийг bakc аас авах нь */\n\n  const getCat = async () => {\n    const {\n      success,\n      data,\n      error\n    } = await axios.get(\"/api/category/\").catch(err => err);\n\n    if (success) {\n      setCategories(data);\n    }\n  };\n\n  useEffect(() => {\n    getCat();\n  }, []);\n  /** Ямар category дарагдсныг мэдэх */\n\n  const handleClick = category => {\n    /** дарагдсан cat ийн нэр */\n    const catName = category.name;\n\n    if (handleCategory) {\n      /** categery ийн нэрийг буцаах */\n      handleCategory(catName);\n    }\n\n    navigate({\n      search: `?${createSearchParams({\n        category: catName\n      })}`\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sub-menu\",\n    children: categories.map((category, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sub-menu-nav\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: `nav-btn ${catName === category.name ? \"active\" : \"\"}`,\n          title: category.name,\n          onClick: () => handleClick(category)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SubMenu, \"gk/9P+Ih1pp6j2J6kg60mXthrec=\", false, function () {\n  return [useNavigate, useLocation];\n});\n\n_c = SubMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"SubMenu\");","map":{"version":3,"sources":["/Users/maidar/Desktop/projects-d/gasp/src/components/special/SubMenu.jsx"],"names":["React","useEffect","useState","useNavigate","createSearchParams","useLocation","Button","axios","SubMenu","handleCategory","categories","setCategories","catName","setCatName","navigate","location","paramCatName","URLSearchParams","search","get","getCat","success","data","error","catch","err","handleClick","category","name","map","index"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,kBAAtB,EAA0CC,WAA1C,QAA6D,kBAA7D;AAEA,OAAOC,MAAP,MAAmB,gBAAnB;AAEA,OAAOC,KAAP,MAAkB,aAAlB;;AAEA,eAAe,SAASC,OAAT,OAAqC;AAAA;;AAAA,MAApB;AAAEC,IAAAA;AAAF,GAAoB;;AAElD;AACA,QAAM,CAAEC,UAAF,EAAcC,aAAd,IAAiCT,QAAQ,CAAC,EAAD,CAA/C;AACA,QAAM,CAAEU,OAAF,EAAWC,UAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;AACA;;AACA,QAAMY,QAAQ,GAAGX,WAAW,EAA5B;AAEA,QAAMY,QAAQ,GAAGV,WAAW,EAA5B;AAEA;;AACAJ,EAAAA,SAAS,CACP,MACA;AACE,UAAMe,YAAY,GAAG,IAAIC,eAAJ,CAAoBF,QAAQ,CAACG,MAA7B,EAAqCC,GAArC,CAAyC,UAAzC,CAArB;AACAN,IAAAA,UAAU,CAACG,YAAD,CAAV;AACD,GALM,EAMP,CAACD,QAAD,CANO,CAAT;AASA;;AACA,QAAMK,MAAM,GAAG,YACf;AACI,UAAM;AAAEC,MAAAA,OAAF;AAAWC,MAAAA,IAAX;AAAiBC,MAAAA;AAAjB,QAA2B,MAAMhB,KAAK,CAACY,GAAN,CAAU,gBAAV,EAA4BK,KAA5B,CAAkCC,GAAG,IAAIA,GAAzC,CAAvC;;AACA,QAAIJ,OAAJ,EACA;AACIV,MAAAA,aAAa,CAACW,IAAD,CAAb;AACH;AACJ,GAPD;;AASArB,EAAAA,SAAS,CAAC,MACV;AACEmB,IAAAA,MAAM;AACP,GAHQ,EAGN,EAHM,CAAT;AAKA;;AACA,QAAMM,WAAW,GAAIC,QAAD,IACpB;AACE;AACA,UAAMf,OAAO,GAAGe,QAAQ,CAACC,IAAzB;;AACA,QAAInB,cAAJ,EACA;AACE;AACAA,MAAAA,cAAc,CAACG,OAAD,CAAd;AACD;;AAEDE,IAAAA,QAAQ,CACN;AACEI,MAAAA,MAAM,EAAG,IAAGd,kBAAkB,CAAC;AAC7BuB,QAAAA,QAAQ,EAAEf;AADmB,OAAD,CAE3B;AAHL,KADM,CAAR;AAOD,GAjBD;;AAmBA,sBACE;AAAM,IAAA,SAAS,EAAC,UAAhB;AAAA,cAEIF,UAAU,CAACmB,GAAX,CAAe,CAACF,QAAD,EAAWG,KAAX,KACf;AACE,0BACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,+BACE,QAAC,MAAD;AAAQ,UAAA,SAAS,EAAG,WAAUlB,OAAO,KAAKe,QAAQ,CAACC,IAArB,GAA4B,QAA5B,GAAuC,EAAG,EAAxE;AAA2E,UAAA,KAAK,EAAED,QAAQ,CAACC,IAA3F;AAAiG,UAAA,OAAO,EAAE,MAAMF,WAAW,CAACC,QAAD;AAA3H;AAAA;AAAA;AAAA;AAAA;AADF,SAAmCG,KAAnC;AAAA;AAAA;AAAA;AAAA,cADF;AAKD,KAPD;AAFJ;AAAA;AAAA;AAAA;AAAA,UADF;AAcD;;GArEuBtB,O;UAMLL,W,EAEAE,W;;;KARKG,O","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useNavigate, createSearchParams, useLocation } from 'react-router-dom'\n\nimport Button from '../main/Button'\n\nimport axios from 'utils/axios'\n\nexport default function SubMenu({ handleCategory }) {\n\n  /** back аас category ийн жагсаалтыг авч харуулах нв */\n  const [ categories, setCategories ] =  useState([])\n  const [ catName, setCatName ] = useState(\"\")\n  /** хуудас үсрэхэд хэрэг болно */\n  const navigate = useNavigate()\n\n  const location = useLocation()\n\n  /** url солигдох бүрт ямар category байгаа эсэхийг шалгах */\n  useEffect(\n    () =>\n    {\n      const paramCatName = new URLSearchParams(location.search).get(\"category\")\n      setCatName(paramCatName)\n    },\n    [location]\n  )\n\n  /** cate ийн мэдээллийг bakc аас авах нь */\n  const getCat = async () =>\n  {\n      const { success, data, error } = await axios.get(\"/api/category/\").catch(err => err)\n      if (success)\n      {\n          setCategories(data)\n      }\n  }\n\n  useEffect(() =>\n  {\n    getCat()\n  }, [])\n\n  /** Ямар category дарагдсныг мэдэх */\n  const handleClick = (category) =>\n  {\n    /** дарагдсан cat ийн нэр */\n    const catName = category.name\n    if (handleCategory)\n    {\n      /** categery ийн нэрийг буцаах */\n      handleCategory(catName)\n    }\n\n    navigate(\n      {\n        search: `?${createSearchParams({\n          category: catName\n        })}`\n      }\n    )\n  }\n\n  return (\n    <div  className=\"sub-menu\">\n      {\n        categories.map((category, index) =>\n        {\n          return (\n            <div className=\"sub-menu-nav\" key={index}>\n              <Button className={`nav-btn ${catName === category.name ? \"active\" : \"\"}`} title={category.name} onClick={() => handleClick(category)} />\n            </div>\n          )\n        })\n      }\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}