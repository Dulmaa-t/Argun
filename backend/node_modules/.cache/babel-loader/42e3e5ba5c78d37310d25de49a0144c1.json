{"ast":null,"code":"import _asyncToGenerator from\"/Users/maidar/Desktop/projects-d/gasp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/maidar/Desktop/projects-d/gasp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/maidar/Desktop/projects-d/gasp/node_modules/@babel/runtime/regenerator/index.js\";import{useContext,useState}from\"react\";import axios from'utils/axios';import{jsx as _jsx}from\"react/jsx-runtime\";var _require=require(\"react\"),createContext=_require.createContext;export var ConfigContext=createContext();export default function ConfigContextProvider(props){/** Сайтын тохиргоонуудыг халгалах state */var _useState=useState({}),_useState2=_slicedToArray(_useState,2),configs=_useState2[0],setConfigs=_useState2[1];/** Тохиргоог back аас авах */var getConfigs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var names,_yield$axios$get$catc,success,data,error,valueOfConfigs;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:/** Back аас авах config үүдийн нэрийн жагсаалт */names=\"GOOGLE_MAP,SITE_LOGO,SITE_BANNER_IMAGE,FACEBOOK,INSTAGRAMM,YOUTUBE,HOME_IMAGE,HOME_ABOUT,HOME_TITLE,HOME_GOAL,FOOTER_ADDRESS,FOOTER_EMAIL,FOOTER_SITE,FOOTER_PHONE,FOOTER_PHONE_NUMBER,SITE_MENU_IMAGE\";_context.next=3;return axios.get(\"/api/config/?names=\".concat(names)).catch(function(err){return err;});case 3:_yield$axios$get$catc=_context.sent;success=_yield$axios$get$catc.success;data=_yield$axios$get$catc.data;error=_yield$axios$get$catc.error;if(success){valueOfConfigs=data.reduce(function(prevValue,currentValue){prevValue[currentValue.name]=currentValue.value;return prevValue;},{});setConfigs(valueOfConfigs);}else{setConfigs({});}case 8:case\"end\":return _context.stop();}}},_callee);}));return function getConfigs(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(ConfigContext.Provider,{value:{configs:configs,getConfigs:getConfigs},children:props.children});}export function useConfig(){return useContext(ConfigContext);}","map":{"version":3,"sources":["/Users/maidar/Desktop/projects-d/gasp/src/context/configContext.js"],"names":["useContext","useState","axios","require","createContext","ConfigContext","ConfigContextProvider","props","configs","setConfigs","getConfigs","names","get","catch","err","success","data","error","valueOfConfigs","reduce","prevValue","currentValue","name","value","children","useConfig"],"mappings":"oXAAA,OAASA,UAAT,CAAqBC,QAArB,KAAqC,OAArC,CAEA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,C,2CAEA,aAA0BC,OAAO,CAAC,OAAD,CAAjC,CAAQC,aAAR,UAAQA,aAAR,CAEA,MAAO,IAAMC,CAAAA,aAAa,CAAGD,aAAa,EAAnC,CAEP,cAAe,SAASE,CAAAA,qBAAT,CAA+BC,KAA/B,CACf,CACI,2CACA,cAA8BN,QAAQ,CAAC,EAAD,CAAtC,wCAAOO,OAAP,eAAgBC,UAAhB,eAEA,8BACA,GAAMC,CAAAA,UAAU,0FAAG,qMAEf,kDACMC,KAHS,CAGD,wMAHC,uBAIwBT,CAAAA,KAAK,CAACU,GAAN,8BAAgCD,KAAhC,GAAyCE,KAAzC,CAA+C,SAAAC,GAAG,QAAIA,CAAAA,GAAJ,EAAlD,CAJxB,4CAIPC,OAJO,uBAIPA,OAJO,CAIEC,IAJF,uBAIEA,IAJF,CAIQC,KAJR,uBAIQA,KAJR,CAKf,GAAIF,OAAJ,CACA,CACUG,cADV,CAC2BF,IAAI,CAACG,MAAL,CACnB,SAACC,SAAD,CAAYC,YAAZ,CACA,CACID,SAAS,CAACC,YAAY,CAACC,IAAd,CAAT,CAA+BD,YAAY,CAACE,KAA5C,CACA,MAAOH,CAAAA,SAAP,CACH,CALkB,CAMnB,EANmB,CAD3B,CASIX,UAAU,CAACS,cAAD,CAAV,CACH,CAXD,IAaA,CACIT,UAAU,CAAC,EAAD,CAAV,CACH,CApBc,sDAAH,kBAAVC,CAAAA,UAAU,0CAAhB,CAwBA,mBACI,KAAC,aAAD,CAAe,QAAf,EACI,KAAK,CAAE,CACHF,OAAO,CAAPA,OADG,CAEHE,UAAU,CAAVA,UAFG,CADX,UAMKH,KAAK,CAACiB,QANX,EADJ,CAUH,CAED,MAAO,SAASC,CAAAA,SAAT,EACP,CACI,MAAOzB,CAAAA,UAAU,CAACK,aAAD,CAAjB,CACH","sourcesContent":["import { useContext, useState } from \"react\";\n\nimport axios from 'utils/axios'\n\nconst { createContext } = require(\"react\");\n\nexport const ConfigContext = createContext()\n\nexport default function ConfigContextProvider(props)\n{\n    /** Сайтын тохиргоонуудыг халгалах state */\n    const [configs, setConfigs] = useState({})\n\n    /** Тохиргоог back аас авах */\n    const getConfigs = async () =>\n    {\n        /** Back аас авах config үүдийн нэрийн жагсаалт */\n        const names = \"GOOGLE_MAP,SITE_LOGO,SITE_BANNER_IMAGE,FACEBOOK,INSTAGRAMM,YOUTUBE,HOME_IMAGE,HOME_ABOUT,HOME_TITLE,HOME_GOAL,FOOTER_ADDRESS,FOOTER_EMAIL,FOOTER_SITE,FOOTER_PHONE,FOOTER_PHONE_NUMBER,SITE_MENU_IMAGE\"\n        const { success, data, error } = await axios.get(`/api/config/?names=${names}`).catch(err => err)\n        if (success)\n        {\n            const valueOfConfigs = data.reduce(\n                (prevValue, currentValue) =>\n                {\n                    prevValue[currentValue.name] = currentValue.value\n                    return prevValue\n                },\n                {}\n            )\n            setConfigs(valueOfConfigs)\n        }\n        else\n        {\n            setConfigs({})\n        }\n\n    }\n\n    return (\n        <ConfigContext.Provider\n            value={{\n                configs,\n                getConfigs,\n            }}\n        >\n            {props.children}\n        </ConfigContext.Provider>\n    )\n}\n\nexport function useConfig()\n{\n    return useContext(ConfigContext)\n}\n\n\n"]},"metadata":{},"sourceType":"module"}